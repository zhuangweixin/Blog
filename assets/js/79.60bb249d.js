(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{417:function(s,a,e){"use strict";e.r(a);var t=e(4),n=Object(t.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"在-m1-芯片-mac-上使用-homebrew"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#在-m1-芯片-mac-上使用-homebrew"}},[s._v("#")]),s._v(" 在 M1 芯片 Mac 上使用 Homebrew")]),s._v(" "),a("p",[s._v("1.安装brew（国内源）：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("/bin/zsh "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-c")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-fsSL")]),s._v(" https://gitee.com/cunkai/HomebrewCN/raw/master/Homebrew.sh"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v('"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("2."),a("code",[s._v("M1")]),s._v("芯片安装完成后会出现，终端输入"),a("code",[s._v("brew")]),s._v("  会出现 "),a("code",[s._v("zsh: command not found: brew")]),s._v(" 的问题")]),s._v(" "),a("p",[s._v("解决：这是配置项出错，"),a("code",[s._v("brew")]),s._v("的下载路径在"),a("code",[s._v("/opt/homebrew/bin")]),s._v("，所以我们要在 根目录创建"),a("code",[s._v("zshrc")]),s._v("，并写入相关的路径")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" .zshrc\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("open")]),s._v(" .zshrc\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("写入：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("path")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/opt/homebrew/bin'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$path")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("3.下载 php，mySql 推荐使用 "),a("code",[s._v("PhpWebStudy")]),s._v("， 推荐使用"),a("code",[s._v("阿里的源")])]),s._v(" "),a("p",[s._v("报错：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("curl: "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("92")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" HTTP/2 stream "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" was not closed cleanly: PROTOCOL_ERROR "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("err "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Error: php@8.3: Failed to download resource "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"php@8.3"')]),s._v(" Download failed: https://ghcr.io/v2/shivammathur/php/php/8.3/blobs/sha256:f429c0d4807e7daa511bec9099f7855cdb245f710b5fcd0a9bde8cdee314846e\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("解决：将"),a("code",[s._v("HTTP")]),s._v("版本从"),a("code",[s._v("2")]),s._v("降级到"),a("code",[s._v("1.1")]),s._v("后工作，"),a("a",{attrs:{href:"https://stackoverflow.com/questions/59282476/error-rpc-failed-curl-92-http-2-stream-0-was-not-closed-cleanly-protocol-erro",target:"_blank",rel:"noopener noreferrer"}},[s._v("相关的文章"),a("OutboundLink")],1)]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--global")]),s._v(" http.version HTTP/1.1\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("下载完成后更改回来：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("git")]),s._v(" config "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--global")]),s._v(" http.version HTTP/2\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("Php 第一次配置：")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("php@8.3 is keg-only, "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("which")]),s._v(" means it was not symlinked into /opt/homebrew,\nbecause this is an alternate version of another formula.\n\nIf you need to have php@8.3 first "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" your "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")]),s._v(", run:\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'export PATH=\"/opt/homebrew/opt/php@8.3/bin:$PATH\"'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" ~/.zshrc\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'export PATH=\"/opt/homebrew/opt/php@8.3/sbin:$PATH\"'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" ~/.zshrc\n\nFor compilers to "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" php@8.3 you may need to set:\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("LDFLAGS")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-L/opt/homebrew/opt/php@8.3/lib"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("CPPFLAGS")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-I/opt/homebrew/opt/php@8.3/include"')]),s._v("\n\nTo start shivammathur/php/php@8.3 now and restart at login:\nbrew services start shivammathur/php/php@8.3\nOr, "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" you don't want/need a background "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" you can just run:\n/opt/homebrew/opt/php@8.3/sbin/php-fpm "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--nodaemonize")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'export PATH=\"/opt/homebrew/opt/php@8.3/bin:$PATH\"'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" ~/.zshrc\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'export PATH=\"/opt/homebrew/opt/php@8.3/sbin:$PATH\"'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">>")]),s._v(" ~/.zshrc\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("br"),s._v(" "),a("blockquote",[a("p",{attrs:{align:"right"}},[s._v("@蚵仔煎-20231107")])])])}),[],!1,null,null,null);a.default=n.exports}}]);